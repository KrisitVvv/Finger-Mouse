# 更新日志 - 食指中指控制版本

## 版本信息
**版本号**: v4.1
**更新日期**: 2026-02-13
**主要变更**: 将鼠标移动功能从三指触碰改为食指中指伸直并靠拢的检测

## 变更详情

### 🔥 主要功能变更
- **鼠标移动控制**: 从三指触碰(拇指+食指+中指)改为食指中指伸直并靠拢
- **新增阈值参数**: 添加`finger_proximity`参数控制手指靠近的敏感度
- **优化手势逻辑**: 重新设计手势识别优先级和判断条件

### ✨ 技术改进
- **方法名统一**: 修复了`_click_gesture_recognition`到`_finger_control_gesture_recognition`的方法名不匹配问题
- **参数签名更新**: 更新了`update_gesture_thresholds`方法的参数签名以匹配新功能
- **缓存清理**: 清理了Python字节码缓存确保代码更新生效

### 🛠️ 代码修改

#### 1. 手势识别器 (`recognition/gesture_recognizer.py`)
- 重命名核心识别方法: `_click_gesture_recognition` → `_finger_control_gesture_recognition`
- 新增手指靠近阈值: `finger_proximity` (默认0.04)
- 修改鼠标移动判断逻辑: 检测食指中指伸直且靠近的状态
- 更新阈值更新方法参数签名

#### 2. 手部检测器 (`recognition/hand_detector.py`)
- 更新`update_gesture_thresholds`方法参数以支持新的阈值参数

#### 3. 主窗口 (`gui/main_window.py`)
- 添加手指靠近阈值的GUI设置选项
- 更新帮助文档和关于信息
- 调整阈值设置对话框布局

### 📚 文档更新
- **新使用指南**: 创建了`INDEX_MIDDLE_FINGER_CONTROLS.md`详细说明新的控制方式
- **更新帮助信息**: 在GUI中更新了使用说明文本
- **版本说明**: 更新了关于对话框中的版本信息

## 使用说明

### 新的手势控制方式
1. **🖱️ 鼠标移动**: 食指和中指伸直并靠拢，无名指和小指伸直
2. **💡 鼠标点击**: 拇指+食指指尖触碰(自动点击和释放)
3. **⬇️ 下滚轮**: 拇指尖触碰食指DIP关节(第3个骨节)
4. **⬆️ 上滚轮**: 拇指尖触碰食指PIP关节(第2个骨节)
5. **✊ 握拳**: 鼠标左键释放
6. **🏠 回到桌面**: 张开手掌→握拳过渡

### 参数调整
- **手指靠近阈值**: 控制食指中指靠近的敏感度(建议范围0.02-0.08)
- **点击接触阈值**: 控制点击手势的敏感度(默认0.05)
- **精确触碰阈值**: 控制其他触碰手势的敏感度(默认0.06)

## 测试验证
- [x] 程序正常启动和关闭
- [x] 手势识别功能正常
- [x] 鼠标控制功能正常
- [x] 阈值设置界面正常
- [x] 帮助文档显示正确
- [x] 方法名冲突问题已解决

## 后续计划
- 收集用户反馈，优化手指靠近阈值的默认值
- 考虑添加更多的自定义手势选项
- 持续改进手势识别的准确性和响应速度