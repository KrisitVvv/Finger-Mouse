# 手部骨架显示功能使用指南

## 功能介绍

新增的手部骨架显示功能可以在预览窗口中实时显示检测到的手部关键点和连接关系，帮助用户：

1. **直观了解识别状态**：清楚看到手部是否被正确检测
2. **调试手势识别**：观察关键点位置判断识别准确性
3. **优化手势动作**：根据骨架显示调整手势姿势

## 功能特点

### 可视化元素
- **绿色连线**：显示手部各关节点之间的连接关系
- **彩色关键点**：
  - 🔴 红色圆点：手指尖端（拇指、食指、中指、无名指、小指）
  - 🔵 蓝色圆点：手腕位置
  - 🟡 黄色圆点：其他关节点
- **关键点编号**：每个关键点旁边显示对应的编号（0-20）

### 手部关键点分布
```
0: 手腕 (WRIST)
1-4: 拇指 (THUMB)
5-8: 食指 (INDEX_FINGER)  
9-12: 中指 (MIDDLE_FINGER)
13-16: 无名指 (RING_FINGER)
17-20: 小指 (PINKY_FINGER)
```

## 使用方法

### 基本操作
1. 启动程序：`python main.py`
2. 点击"启动识别"按钮
3. 将手放置在摄像头前适当距离
4. 观察右侧预览窗口中的骨架显示

### 控制选项
在预览窗口下方有以下控制选项：

- **截图保存**：保存当前预览画面（待完善）
- **刷新摄像头**：重新初始化摄像头（待完善）
- **显示骨架**：✅ 勾选此项可开启/关闭骨架显示

### 状态信息
预览窗口下方的状态区域显示：
- **当前手势**：识别到的手势名称
- **关键点数**：检测到的关键点数量（正常为21个）

## 调试技巧

### 识别问题排查
1. **关键点数量异常**：
   - 显示0个：手部未被检测到
   - 少于21个：手部部分被遮挡或检测不完整
   - 大于21个：可能检测到多只手

2. **骨架显示异常**：
   - 关键点位置跳跃：可能是光照不足或手部移动过快
   - 连接线断裂：某些关键点未被正确检测

3. **手势识别不准**：
   - 观察关键点相对位置是否符合预期手势
   - 检查拇指和食指间的距离（影响捏合识别）
   - 查看手指弯曲程度（影响握拳识别）

### 优化建议
1. **环境要求**：
   - 保证充足的光照条件
   - 背景尽量简洁，避免复杂图案
   - 摄像头与手部保持适当距离（30-50cm）

2. **手势标准**：
   - 捏合：拇指和食指指尖尽量靠近
   - 握拳：四指弯曲贴近手掌
   - OK手势：拇指和食指形成完整圆环

3. **参数调整**：
   - 通过"设置"→"手势识别阈值"调整敏感度
   - 根据骨架显示效果微调各项阈值

## 故障排除

### 常见问题
1. **骨架不显示**：
   - 确认"显示骨架"选项已勾选
   - 检查手部是否在摄像头视野内
   - 确认MediaPipe检测器正常工作

2. **显示延迟**：
   - 降低摄像头分辨率设置
   - 关闭不必要的后台程序
   - 检查系统资源使用情况

3. **识别不稳定**：
   - 调整手势识别阈值
   - 改善光照条件
   - 保持手部相对静止进行测试

### 技术支持
如遇到其他问题，请提供以下信息：
- 程序运行日志
- 骨架显示截图
- 具体的操作步骤和现象描述

---

**提示**：骨架显示功能主要用于开发调试，在日常使用中可根据需要开启或关闭以获得更好的性能表现。